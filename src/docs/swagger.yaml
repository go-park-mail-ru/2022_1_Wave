definitions:
  api.UserGetResponse:
    properties:
      result:
        $ref: '#/definitions/models.User'
      status:
        type: string
    type: object
  forms.Result:
    properties:
      error:
        example: some error note
        type: string
      result:
        example: some success note
        type: string
      status:
        example: OK
        type: string
    type: object
  forms.User:
    properties:
      email:
        example: hello@example.com
        type: string
      id:
        example: 5125112
        type: integer
      password:
        example: 1fsgh2rfafas
        type: string
      username:
        example: Martin
        type: string
    type: object
  models.Album:
    properties:
      Date:
        example: 0
        type: integer
      authorId:
        example: 1
        type: integer
      countLikes:
        example: 54
        type: integer
      countListening:
        example: 15632
        type: integer
      coverId:
        example: 254
        type: integer
      id:
        example: 10
        type: integer
      title:
        example: Mercury
        type: string
    type: object
  models.Artist:
    properties:
      countFollowers:
        example: 1001
        type: integer
      countListening:
        example: 7654
        type: integer
      id:
        example: 43
        type: integer
      name:
        example: Imagine Dragons
        type: string
      photo:
        example: assets/artist_1.png
        type: string
    type: object
  models.Track:
    properties:
      albumId:
        example: 3
        type: integer
      authorId:
        example: 5
        type: integer
      countLikes:
        example: 54
        type: integer
      countListening:
        example: 15632
        type: integer
      coverId:
        example: 254
        type: integer
      duration:
        example: 180
        type: integer
      id:
        example: 777
        type: integer
      mp4:
        example: assets/track_1.mp4
        type: string
      title:
        example: Rain
        type: string
    type: object
  models.User:
    properties:
      email:
        type: string
      id:
        type: integer
      password:
        type: string
      username:
        type: string
    type: object
  status.Error:
    properties:
      error:
        type: string
      status:
        example: FAIL
        type: string
    type: object
  status.Success:
    properties:
      result: { }
      status:
        example: OK
        type: string
    type: object
info:
  contact: {}
paths:
  /api/v1/albums/:
    get:
      consumes:
        - application/json
      description: getting all albums
      produces:
        - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/status.Success'
        "400":
          description: Data is invalid
          schema:
            $ref: '#/definitions/status.Error'
        "405":
          description: Method is not allowed
          schema:
            $ref: '#/definitions/status.Error'
      summary: GetAlbums
      tags:
        - album
    post:
      consumes:
        - application/json
      description: creating new album
      parameters:
        - description: params of new album. Id will be set automatically.
          in: body
          name: Album
          required: true
          schema:
            $ref: '#/definitions/models.Album'
      produces:
        - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/status.Success'
        "400":
          description: Data is invalid
          schema:
            $ref: '#/definitions/status.Error'
        "405":
          description: Method is not allowed
          schema:
            $ref: '#/definitions/status.Error'
      summary: CreateAlbum
      tags:
        - album
    put:
      consumes:
        - application/json
      description: updating album by id
      parameters:
        - description: id of updating album and params of it.
          in: body
          name: Album
          required: true
          schema:
            $ref: '#/definitions/models.Album'
      produces:
        - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/status.Success'
        "400":
          description: Data is invalid
          schema:
            $ref: '#/definitions/status.Error'
        "405":
          description: Method is not allowed
          schema:
            $ref: '#/definitions/status.Error'
      summary: UpdateAlbum
      tags:
        - album
  /api/v1/albums/{id}:
    delete:
      consumes:
        - application/json
      description: deleting album by id
      parameters:
        - description: id of album which need to be deleted
          in: path
          name: id
          required: true
          type: integer
      produces:
        - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/status.Success'
        "400":
          description: Data is invalid
          schema:
            $ref: '#/definitions/status.Error'
        "405":
          description: Method is not allowed
          schema:
            $ref: '#/definitions/status.Error'
      summary: DeleteAlbum
      tags:
        - album
    get:
      consumes:
        - application/json
      description: getting album by id
      parameters:
        - description: id of album which need to be getted
          in: path
          name: id
          required: true
          type: integer
      produces:
        - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Album'
        "400":
          description: Data is invalid
          schema:
            $ref: '#/definitions/status.Error'
        "405":
          description: Method is not allowed
          schema:
            $ref: '#/definitions/status.Error'
      summary: GetAlbum
      tags:
        - album
  /api/v1/albums/popular:
    get:
      consumes:
        - application/json
      description: getting top20 popular albums
      produces:
        - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/status.Success'
        "400":
          description: Data is invalid
          schema:
            $ref: '#/definitions/status.Error'
        "405":
          description: Method is not allowed
          schema:
            $ref: '#/definitions/status.Error'
      summary: GetPopularAlbums
      tags:
        - album
  /api/v1/artists/:
    get:
      consumes:
        - application/json
      description: getting all artists
      produces:
        - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/status.Success'
        "400":
          description: Data is invalid
          schema:
            $ref: '#/definitions/status.Error'
        "405":
          description: Method is not allowed
          schema:
            $ref: '#/definitions/status.Error'
      summary: GetArtists
      tags:
        - artist
    post:
      consumes:
      - application/json
      description: creating new artist
      parameters:
        - description: params of new artist. Id will be set automatically.
          in: body
          name: Artist
          required: true
          schema:
            $ref: '#/definitions/models.Artist'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/status.Success'
        "400":
          description: Data is invalid
          schema:
            $ref: '#/definitions/status.Error'
        "405":
          description: Method is not allowed
          schema:
            $ref: '#/definitions/status.Error'
      summary: CreateArtist
      tags:
        - artist
    put:
      consumes:
      - application/json
      description: updating artist by id
      parameters:
        - description: id of updating artist and params of it.
          in: body
          name: Artist
          required: true
          schema:
            $ref: '#/definitions/models.Artist'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/status.Success'
        "400":
          description: Data is invalid
          schema:
            $ref: '#/definitions/status.Error'
        "405":
          description: Method is not allowed
          schema:
            $ref: '#/definitions/status.Error'
      summary: UpdateArtist
      tags:
        - artist
  /api/v1/artists/{id}:
    delete:
      consumes:
        - application/json
      description: deleting artist by id
      parameters:
        - description: id of artist which need to be deleted
          in: path
          name: id
          required: true
          type: integer
      produces:
        - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/status.Success'
        "400":
          description: Data is invalid
          schema:
            $ref: '#/definitions/status.Error'
        "405":
          description: Method is not allowed
          schema:
            $ref: '#/definitions/status.Error'
      summary: DeleteArtist
      tags:
        - artist
    get:
      consumes:
      - application/json
      description: getting artist by id
      parameters:
        - description: id of artist which need to be getted
          in: path
          name: id
          required: true
          type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Artist'
        "400":
          description: Data is invalid
          schema:
            $ref: '#/definitions/status.Error'
        "405":
          description: Method is not allowed
          schema:
            $ref: '#/definitions/status.Error'
      summary: GetArtist
      tags:
        - artist
  /api/v1/artists/popular:
    get:
      consumes:
        - application/json
      description: getting top20 popular artists
      produces:
        - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/status.Success'
        "400":
          description: Data is invalid
          schema:
            $ref: '#/definitions/status.Error'
        "405":
          description: Method is not allowed
          schema:
            $ref: '#/definitions/status.Error'
      summary: GetPopularArtists
      tags:
        - artist
  /api/v1/tracks/:
    get:
      consumes:
        - application/json
      description: getting all tracks
      produces:
        - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/status.Success'
        "400":
          description: Data is invalid
          schema:
            $ref: '#/definitions/status.Error'
        "405":
          description: Method is not allowed
          schema:
            $ref: '#/definitions/status.Error'
      summary: GetTracks
      tags:
        - track
    post:
      consumes:
      - application/json
      description: creating new track
      parameters:
        - description: params of new track. Id will be set automatically.
          in: body
          name: Track
          required: true
          schema:
            $ref: '#/definitions/models.Track'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/status.Success'
        "400":
          description: Data is invalid
          schema:
            $ref: '#/definitions/status.Error'
        "405":
          description: Method is not allowed
          schema:
            $ref: '#/definitions/status.Error'
      summary: CreateTrack
      tags:
        - track
    put:
      consumes:
      - application/json
      description: updating track by id
      parameters:
        - description: id of updating song and params of it.
          in: body
          name: Track
          required: true
          schema:
            $ref: '#/definitions/models.Track'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/status.Success'
        "400":
          description: Data is invalid
          schema:
            $ref: '#/definitions/status.Error'
        "405":
          description: Method is not allowed
          schema:
            $ref: '#/definitions/status.Error'
      summary: UpdateTrack
      tags:
        - track
  /api/v1/tracks/{id}:
    delete:
      consumes:
        - application/json
      description: deleting track by id
      parameters:
        - description: id of track which need to be deleted
          in: path
          name: id
          required: true
          type: integer
      produces:
        - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/status.Success'
        "400":
          description: Data is invalid
          schema:
            $ref: '#/definitions/status.Error'
        "405":
          description: Method is not allowed
          schema:
            $ref: '#/definitions/status.Error'
      summary: DeleteTrack
      tags:
        - track
    get:
      consumes:
      - application/json
      description: getting track by id
      parameters:
        - description: id of track which need to be getted
          in: path
          name: id
          required: true
          type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Track'
        "400":
          description: Data is invalid
          schema:
            $ref: '#/definitions/status.Error'
        "405":
          description: Method is not allowed
          schema:
            $ref: '#/definitions/status.Error'
      summary: GetTrack
      tags:
        - track
  /api/v1/tracks/popular:
    get:
      consumes:
        - application/json
      description: getting top20 popular tracks
      produces:
        - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/status.Success'
        "400":
          description: Data is invalid
          schema:
            $ref: '#/definitions/status.Error'
        "405":
          description: Method is not allowed
          schema:
            $ref: '#/definitions/status.Error'
      summary: GetPopularTracks
      tags:
        - track
  /net/v1/login:
    post:
      consumes:
        - application/json
      description: login user
      parameters:
        - description: user params
          in: body
          name: UserForm
          required: true
          schema:
            $ref: '#/definitions/forms.User'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/forms.Result'
        "400":
          description: invalid login or password
          schema:
            $ref: '#/definitions/forms.Result'
        "401":
          description: invalid csrf
          schema:
            $ref: '#/definitions/forms.Result'
      summary: Login
      tags:
      - auth
  /net/v1/logout:
    post:
      consumes:
        - application/json
      description: sign in user
      produces:
        - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/forms.Result'
        "401":
          description: invalid csrf
          schema:
            $ref: '#/definitions/forms.Result'
        "460":
          description: Data is invalid
          schema:
            $ref: '#/definitions/forms.Result'
        "521":
          description: Cannot create session
          schema:
            $ref: '#/definitions/forms.Result'
      summary: Logout
      tags:
      - auth
  /net/v1/signup:
    post:
      consumes:
        - application/json
      description: login user
      parameters:
        - description: new jwt data
          in: body
          name: UserForm
          required: true
          schema:
            $ref: '#/definitions/forms.User'
      produces:
      - application/json
      responses:
        "200":
          description: success signup
          schema:
            $ref: '#/definitions/forms.Result'
        "400":
          description: user already exist
          schema:
            $ref: '#/definitions/forms.Result'
        "401":
          description: invalid csrf
          schema:
            $ref: '#/definitions/forms.Result'
      summary: SignUp
      tags:
      - auth
  /net/v1/users/{id}:
    get:
      consumes:
        - application/json
      description: get user by cookie
      produces:
        - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.UserGetResponse'
        "400":
          description: invalid id
          schema:
            $ref: '#/definitions/forms.Result'
        "404":
          description: user not found
          schema:
            $ref: '#/definitions/forms.Result'
      summary: GetUser
      tags:
      - user
  /net/v1/users/self:
    get:
      consumes:
        - application/json
      description: get user
      parameters:
        - description: id of user which need to be getted
          in: path
          name: id
          required: true
          type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.UserGetResponse'
        "401":
          description: invalid csrf
          schema:
            $ref: '#/definitions/forms.Result'
      summary: GetSelfUser
      tags:
      - user
swagger: "2.0"
